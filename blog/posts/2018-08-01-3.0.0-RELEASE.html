<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>OpenArmor 3.0.0 &#8212; OpenArmor</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.2.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-3.2.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/parallax.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '3.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  
  
  <link href="https://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet">
  
  <style type="text/css">
    ul.ablog-archive {list-style: none; overflow: auto; margin-left: 0px}
    ul.ablog-archive li {float: left; margin-right: 5px; font-size: 80%}
  </style>

<link rel="icon" href="favicon/favicon.ico" type="image/x-icon" />
  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-inverse navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html"><img src="../../_static/OpenArmor_logo_bare_small.jpg">
          OpenArmor</a>
        <span class="navbar-text navbar-version pull-left"><b>3.3</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../../about.html">About <i class="fa fa-info-circle"></i></a></li>
                <li><a href="../../blog.html">Blog <i class="fa fa-archive"></i></a></li>
                <li><a href="../../docs/">Documentation <i class="fa fa-book"></i></a></li>
                <li><a href="../../downloads.html">Downloads <i class="fa fa-download"></i></a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"></ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary">
  
  
<ul class="nav nav-list">
  <li>
  <ul class="nav nav-list">
  
    </li>
  <i class="fa fa-calendar"></i>
    Aug 01, 2018
  
    

  
  <li>
    
      
      <a href="../author/scott-r-shinn.html"><i class="fa-fw fa fa-user"></i>Scott R. Shinn</a>
      
    </li>
  

  

  

  
  <li><i class="fa-fw fa fa-folder-open"></i>Categories
    
      
      <a href="../category/releases.html"><i class="fa-fw fa fa-folder-open"></i>Releases</a>
      
    </li>
  

    
    <ul>
    <li>
        
        <a href="../tag/update.html"><i class="fa-fw fa fa-tag"></i>update</a>
        
      </li>
    </ul>
    

  
  </ul>

  </li>
</ul>



<ul class="nav nav-list">
  <li> 
    <a class="reference internal nav-header" href="../../blog.html">Recent Posts</a>
    <ul class="nav nav-list">
      
      
      <li><a class="reference internal" href="2019-02-05-3.2.0-RELEASE.html">Feb 02 - OpenArmor 3.2.0</a></li>
      
      <li><a class="reference internal" href="2018-10-19-3.1.0-RELEASE.html">Oct 19 - OpenArmor 3.1.0</a></li>
      
      <li><a class="reference internal" href="2018-06-20-2.9.4-RELEASE.html">Jun 20 - OpenArmor 2.9.4</a></li>
      
      <li><a class="reference internal" href="2018-05-15-OpenArmor-3-repo.html">May 15 - OpenArmor HIDS 3.0 Snapshots</a></li>
      
      <li><a class="reference internal" href="2018-04-23-slack.html">Apr 23 - Join us on Slack!</a></li>
      
    </ul>
  </li>
</ul>

<ul class="nav nav-list">
  <li>
    <a href="../category.html">Categories</a>
    <ul class="nav nav-list">
    
      
      <li><a class="reference internal" href="../category/announcements.html">Announcements (11)</a></li>
      
    
      
      <li><a class="reference internal" href="../category/integrations.html">Integrations (2)</a></li>
      
    
      
      <li><a class="reference internal" href="../category/releases.html">Releases (16)</a></li>
      
    
    </ul>
  </li>
</ul>

<ul class="nav nav-list">
  <li>
    <a href="../archive.html">Archives</a>
    <ul>
    
      
      <li><a href="../2019.html"><i class="fa fa-folder"></i> 2019 (1)</a></li>
      
    
      
      <li><a href="../2018.html"><i class="fa fa-folder"></i> 2018 (7)</a></li>
      
    
      
      <li><a href="../2017.html"><i class="fa fa-folder"></i> 2017 (4)</a></li>
      
    
      
      <li><a href="../2016.html"><i class="fa fa-folder"></i> 2016 (3)</a></li>
      
    
      
      <li><a href="../2015.html"><i class="fa fa-folder"></i> 2015 (2)</a></li>
      
    
      
      <li><a href="../2014.html"><i class="fa fa-folder"></i> 2014 (10)</a></li>
      
    
      
      <li><a href="../2013.html"><i class="fa fa-folder"></i> 2013 (1)</a></li>
      
    
    </ul>
  </li>
</ul>

<form action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9">
      
  <div class="section" id="OpenArmor-3-0-0">
<h1>OpenArmor 3.0.0<a class="headerlink" href="#OpenArmor-3-0-0" title="Permalink to this headline">Â¶</a></h1>
<p><strong>Changelog</strong></p>
<p><strong>Release Maintainers</strong></p>
<p>Dan Parriott
Scott R. Shinn (Atomicorp, Inc.)</p>
<p><strong>Whats New</strong></p>
<ul>
<li><dl class="first docutils">
<dt>SQLite support for syscheck</dt>
<dd><ul class="first last simple">
<li>PR #1091 - whitelist for files in sqlite DB</li>
<li>PR #1364 - add some ifdefs for the md5 whitelist database (USE_SQLITE)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Update cJSON 1.7.0</dt>
<dd><ul class="first last simple">
<li>#1351</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Add Pagerduty Active response</dt>
<dd><ul class="first last simple">
<li>#1302</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">OpenArmor-authd</p>
<blockquote>
<div><ul class="simple">
<li>#890 / #873 - Dichotomic search to add agents with authd</li>
<li>#1154 / #1210 - password support</li>
<li>#1161 - avoid IP duplication, time limit agent deletion with duplicate IP, and option for re-using an agent ID</li>
<li>#1190 - Exit handler for authd to delete PID file</li>
<li>#1208 - add cipher configuration support</li>
</ul>
</div></blockquote>
</li>
<li><dl class="first docutils">
<dt>zlib update to 1.2.11</dt>
<dd><ul class="first last simple">
<li>#1198</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>OpenArmor-agent selinux module</dt>
<dd><ul class="first last simple">
<li>#1193</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>windows agent</dt>
<dd><ul class="first last simple">
<li>#1170 - add agent-auth.exe support</li>
<li>tcp support for agent communications</li>
<li>#1162</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>GeoIP support in rules and events</dt>
<dd><ul class="first last simple">
<li>#840 - Support in alerts</li>
<li>#927 - add geoip support to JSON output analysisd.geoip_jsonout=0</li>
<li>#929 - Modify rule token different_geoip rule to different_srcgeoip</li>
<li>#984 - fix some geoIP bugs</li>
<li>#1108 - decoder fixes</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Slack support</dt>
<dd><ul class="first last simple">
<li>#947 - Escape the &#8216;.&#8217; in the grep for &#8216;.ALERTLAST&#8217; #947</li>
<li>#959 - silent curl in OpenArmor-slack</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Decoders filename attribute</dt>
<dd><ul class="first last simple">
<li>#915 - A few fixes, but most importantly the ability to set the filename attribute from a decoder. This will help create automated pipelines for FIM Verification. I currently need to compare FIM events against 1) Puppet, 2) GIT, and 3) RPM. This patch allows FIM events to be intercepted by my custom FIM Verification script, which generates logging events which OpenArmor can read and turn back into an event with the filename attribute set.</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p><strong>New Rules / Decoders</strong></p>
<ul class="simple">
<li>PR #1297 / #1335 - update named rules</li>
<li>PR #1324 - Bitcoin wallet scans to suspicious URLs</li>
<li>PR #1356 - Openbsd DHCP rules</li>
</ul>
<p><strong>General</strong></p>
<ul class="simple">
<li>Bugfix #42 - Add option to use unaltered hashes with Windows syscheck</li>
<li>Bugfix #210 - Time option in rules is rejecting valid syntax.</li>
<li>Bugfix #425 - manage_agents unable to access /dev/random due to chroot</li>
<li>Bugfix #454 - Prevent manage_agents from chrooting in bulk mode</li>
<li>Bugfix #780 - Compile warning (and potential segfault) after merge from calve/do_not_show_diff</li>
<li>Bugfix #829 - Segmentation fault at logcollector</li>
<li>Bugfix #888 - Pull Request #840 reverts some ipv6 support</li>
<li>Bugfix #869 - OpenArmor-agentd is unable to unmerge files</li>
<li>Bugfix #892 - Contrib tools need to be updated for IPv6.</li>
<li>Bugfix #911 - &#8220;any&#8221; is broken after change to sacmp for ipv4 networks #911</li>
<li>Bugfix #913 - logcollector goes into loop when a NULL is in the log</li>
<li>Bugfix #960 - do not attempt to start OpenArmor-maild when it is enabled</li>
<li>Bugfix #961 - fix for open file handle when rotating alerts.json</li>
<li>Bugfix #976 - win32: 2 values in internal_options.conf ignored</li>
<li>Bugfix #994 - rootcheck, fix for false positive trojaned /bin/grep</li>
<li>Bugfix #998 - IPv6 triggers Rule 1002</li>
<li>Bugfix #1065 - fix for negating IP/CIDR rules</li>
<li>Bugfix #1084 - fix a double free</li>
<li>Bugfix #1106 - OpenArmor-remoted, Fix for clang checks, and a potential DOS caused by a warning</li>
<li>Bugfix #1142 - CEF field uniqueness fix</li>
<li>Bugfix #1145 - if getaddrinfo fails with WAI_FAMILY try ipv4</li>
<li>Bugfix #1165 - rpm spec files generate OpenArmor user and group in user space</li>
<li>Bugfix #1180 - Add last events (previous output) to JSON output</li>
<li>Bugfix #1205 - Avoid EOL conversion of received files in the windows receiver</li>
<li>Bugfix #1227 - Fix for daily reports not being sent</li>
<li>Bugfix #1237 - Custom CFLAGS/CXXFLAGS/LDFLAGS support</li>
<li>Bugfix #1274 - OpenArmor-authd, ipv6 returns an invalid key</li>
<li>Bugfix #1278 - Use getent to check for users/group</li>
<li>Bugfix #1366 - Update to rule ID map</li>
<li>Bugfix #1370 - Bugfix for full subject handling</li>
<li>PR #770 - OpenArmor-dbd, postgresql fixes on the user colume, schema, and not null conditions</li>
<li>PR #778 - syscheck, Selective opening mode to extract file hash #778</li>
<li>PR #792 - Check for a null from malloc</li>
<li>PR #802 - OpenArmor-dbd, allow for longer entries in the system.information column</li>
<li>PR #804 - OpenArmor-dbd, allow for mysql/postgres format changing based on MYSQLDB/POSTGDB</li>
<li>PR #806 - OpenArmor-reportd, report fixes on IP and user fields</li>
<li>PR #808 - Igngore openBSD&#8217;s random seed</li>
<li>PR #824 - OpenArmor-dbd, fix for mysql/postgres insert condition</li>
<li>PR #839 - JSON output, Add group field to json output</li>
<li>PR #843 - Add support for CZMQ v3</li>
<li>PR #848 - Fixed bug at logcollector that inhibited alerts about file reduction</li>
<li>PR #849 - OpenArmor-maild, Format string security fix</li>
<li>PR #855 - Fixed memory error on CDB lists management</li>
<li>PR #859 - added utils to rename an agent or change its IP address (rename_agent.sh, renumber_agent.sh)</li>
<li>PR #862 - OpenArmor-analysisd, fixed memory leaks</li>
<li>PR #864 - There is an error when running OpenArmor-logtest to test rules with check_diff, since it doesn&#8217;t change root directory and tries to create a directory at/queue/diff`.</li>
<li>PR #866 - JSON output, Add timestamp for events</li>
<li>PR #881 - Add debugging output to active repsonse xml config read</li>
<li>PR #883 - Bugfix for agents failing to bind to a specific local IP address and the server is specified by hostname.</li>
<li>PR #887 - agent status needs to be verified before using agt-&gt;lip</li>
<li>PR #893 - Prelude IDS support, Do not use absolute indexes in prelude fields</li>
<li>PR #899 - manage_agents, OpenArmor agent IDs can only be numbers but they are treated as strings. Because of this, it&#8217;s possible to add the agent &#8220;00&#8221; and &#8220;000&#8221;, or &#8220;1&#8221; and &#8220;00001&#8221; at the same time, and they can be confused on extracting keys or on deleting agents.</li>
<li>PR #909 - OpenArmor-logtest, Bugfix for decoders.d/rules.d segfault</li>
<li>PR #910 - Update intcheck_op.c</li>
<li>PR #912 - update validate_op.c</li>
<li>PR #918 - OpenArmor-logtest, add -q &#8220;quiet&#8221; flag support</li>
<li>PR #920 - Bugfixes for OS_IPFound, OS_IPFoundList, OS_IsValidIP. #920</li>
<li>PR #921 - JSON output, This removes the double addition of the &#8216;action&#8217; field and adds a few other interesting fields that I need for my analysis in ELK. Most notably, the rule.group is now passed out via the zmq output.</li>
<li>PR #923 - OpenArmor-dbd, fix SQLi in al_data-&gt;location</li>
<li>PR #928 - OpenArmor-logtest, add geoip to logtest output</li>
<li>PR #930 - fix memory leak in decode-xml.c</li>
<li>PR #931 - Custom output, fix common realloc mistake in custom_output_search_replace.</li>
<li>PR #934 - Create OpenArmor users and group as system members</li>
<li>PR #944 - Don&#8217;t pass null variables to snprintf.</li>
<li>PR #950 - Exclude btrfs-Filesystem from searching for hidden files inside directorie</li>
<li>PR #953 - Prevent manage_agents from doing invalid actions on interactive mode</li>
<li>PR #964 -  Csyslogd patch for sending additional FIM event information</li>
<li>PR #991 - set default AR level to 7</li>
<li>PR #1003 - JSON output, bugfix for duplicated group field</li>
<li>PR #1004 - memory fixes in XML decoding, no-terminated strings, and searchAndReplace()</li>
<li>PR #1016 - bugfix that prevents OpenArmor-control from starting OpenArmor-maild on server</li>
<li>PR #1017 - OpenArmor-remoted, fix for openbsd canary violation</li>
<li>PR #1020 - Allow notify_timeout to be configured server-side. #1020</li>
<li>PR #1021 - Windows Agent, fix for build related issues</li>
<li>PR #1027 -Fx for the &#8220;USER_AGENT_CONFIG_PROFILE&#8221; preloaded-vars.conf file usage. This fixes that and adds a profile config line if the variable is defined. Very useful for unattended installs or binary installs.</li>
<li>PR #1089 - Retire picviz support</li>
<li>PR #1090 - JSON output, add &#8220;id&#8221; to the json log</li>
<li>PR #1093 - pf.sh, update support FreeBSD, OpenBSD, and Darwein</li>
<li>PR #1097 - OpenArmor-batch-manager.pl, support &#8220;any&#8221; IP address</li>
<li>PR #1099 - AR, prevent duplication in hosts.deny</li>
<li>PR #1100 - Windows agent, Open received files in binary mode cause of cr/lf and let hashes match.</li>
<li>PR #1102 - JSON ouput, Fix timestamp</li>
<li>PR #1116 - OpenArmor-remoted, systemd support</li>
<li>PR #1135 - OpenArmor-dbd, UMYSQL_DATABASE_ENABLED does not exist in the tree except this one place.</li>
<li>PR #1137 - Windows agent, administrators group might not be present on non-english installs</li>
<li>PR #1148 - Update for gmake to compile on Solaris 11.2</li>
<li>PR #1149 - Update adduser.sh for Solaris 11.2</li>
<li>PR #1158 - Update shell on OpenArmor-hids-solaris.init Solaris 11.2</li>
<li>PR #1159 - Update Makefile for Solaris</li>
<li>PR #1179 - OpenArmor-dbd, fix readme display IP as string</li>
<li>PR #1235 - spelling fixes</li>
<li>PR #1238 - fix for edead oop in hash_op.c</li>
<li>PR #1255 - syscheck, update windows syscheck directories</li>
<li>PR #1256 - OpenArmor-dbd, use port for postgresql connections</li>
<li>PR #1257 - rootcheck, make sleep interval configurable (rootcheck.sleep)</li>
<li>PR #1258 - adduser.sh, fix the useradd and groupadd script for openbsd</li>
<li>PR #1262 - agentless ssh.exp, remove the P&#8217;s entirely to support upper and lower case</li>
<li>PR #1304 - syscheck, Don&#8217;t display the errno, show the error message</li>
<li>PR #1307 - Allow alerts.log to be turned off (DOUBLE CHECK, THIS WAS REVERTED)</li>
<li>PR #1322 - rootcheck, mysql/mariadb auditing checks</li>
<li>PR #1336 - Disable warning on OS_PassEmptyKeyfile</li>
<li>PR #1342 - remove execute flag on rules and config files</li>
<li>PR #1343 - Makefile fix ar warning</li>
<li>PR #1344 - add option to exclude lua and use system zlib</li>
<li>PR #1345 - gitignore, Ignore zlib paths</li>
<li>PR #1347 - Fix compiler warnings: Wall, Wextra</li>
<li>PR #1374 - Bugfix for AIX building</li>
<li>PR #1382 - added rootcheck file for apache 2.2/2.4</li>
</ul>
</div>

  <div class="section">
  
    


<div class="section">
  <span style="float: left;">
  
  
  <a href="2018-06-20-2.9.4-RELEASE.html">
    <i class="fa fa-arrow-circle-left"></i>
    OpenArmor 2.9.4
  </a>
  
  </span>
  <span>&nbsp;</span>
  <span style="float: right;">
  
  
  <a href="2018-10-19-3.1.0-RELEASE.html">
    OpenArmor 3.1.0
    <i class="fa fa-arrow-circle-right"></i>
  </a>
  </span>
  
</div>

  
  
  </div>

    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2010-2019, OpenArmor Project Team.<br/>
    OpenArmor <b>OpenArmor.net</b> domain owned and maintained by <a href="https://theopenarmor.org" target="_blank">OpenArmor Foundation</a><br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.5.2 - 
    Home page graphics courtesy of <a href="https://pixabay.com" target="_blank">pixabay</a>
    </p>
  </div>
</footer>
  </body>
</html>